<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://kit.fontawesome.com/3e9061da6b.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="./style.css">
</head>

<body>
  <article id="app">
    <ul class="options">
      <li>
        <button type="button" data-command="h1">H1</button>
      </li>
      <li>
        <button type="button" data-command="h2">H2</button>
      </li>
      <li>
        <button type="button" data-command="h3">H3</button>
      </li>
      <li>
        <button type="button" data-command="p">P</button>
      </li>
      <li>
        <button type="button" data-command="bold">
          <i class="fa-solid fa-bold"></i>
        </button>
      </li>
      <li>
        <button type="button" data-command="italic">
          <i class="fa-solid fa-italic"></i>
        </button>
      </li>
      <li>
        <button type="button" data-command="underline">
          <i class="fa-solid fa-underline"></i>
        </button>
      </li>
      <li>
        <button type="button" data-command="strikeThrough">
          <i class="fa-solid fa-strikethrough"></i>
        </button>
      </li>
      <li>
        <button type="button" data-command="justifyLeft">
          <i class="fa-solid fa-align-left"></i>
        </button>
      </li>
      <li>
        <button type="button" data-command="justifyCenter">
          <i class="fa-solid fa-align-center"></i>
        </button>
      </li>
      <li>
        <button type="button" data-command="justifyRight">
          <i class="fa-solid fa-align-right"></i>
        </button>
      </li>
      <li>
        <button type="button" data-command="justifyFull">
          <i class="fa-solid fa-align-justify"></i>
        </button>
      </li>
    </ul>
    <div class="editor" contenteditable="true">
      <h1>나만의 wygiwyg 에디터</h1>
      <p>Hello world~!</p>
    </div>
  </article>

  <script>
    // 이벤트 위임이랑 아래꺼랑 차이가 뭐지??
    document.querySelectorAll('.options button').forEach(item => item.addEventListener('click', function () {
      const command = item.dataset.command; // <- data-command에 있는 것 불러오기

      // 일부분만 긁어도 전체 스타일 바꾸기(== 포멧블럭)
      if (command === 'h1' || command === 'h2' || command === 'h3' || command === 'p') { // h1, h2 크기 같아서 변화없음
        document.execCommand('formatBlock', false, command); // 문서편집가능 영역에 명령을 내릴 수 있음 | 인자: (실행할 명령어, 기본UI제공여부, 명령에 대응할.. )
        // formatBlock: 한 문장에서 일부만 드래그해도 그 문장 전체가 설정이 적용된다.
      } else { // 긁은 부분만 스타일 바꾸기
        document.execCommand(command);
      }

    }));
  </script>
</body>

</html>